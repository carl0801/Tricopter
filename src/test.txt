#include <Arduino.h>
#include <IMU.h>
#include <WiFi.h>
#include <WiFiClient.h>
#include <WiFiAP.h>
#include <IPAddress.h>

// Constants
const double STEP_TIME = 20; // timeInterval

double roll = 0;
double pitch = 0;
double yaw = 0;
double z1 = 0;

IMU imu;

void setup() {
    // put your setup code here, to run once:
    Serial.begin(9600);

    // Initialize the IMU
    imu.init_sensors();

    // Start the server
    server.begin();
}

void loop() {
  //Get roll, pitch and yaw angle and alttitude from ToF sensor
  imu.getIMUData(&roll, &pitch, &yaw, &z1);
  
  /*Serial.print("X:"); Serial.print(angle.roll);
  Serial.print("Y:"); Serial.print(angle.pitch);
  Serial.print("Z:"); Serial.print(angle.yaw);
  Serial.print("z1:"); Serial.println(angle.z1);*/

  delay(imu.STEP_TIME);
}
